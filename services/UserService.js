const bcrypt = require('bcrypt');
const jwt = require('jsonwebtoken');
const MongoLib = require('../lib/MongoLib');
const EmailService = require('./EmailService');
const { config } = require('../config');

const { clientUrl, emailSecret } = config;
class UserService {
    constructor() {
        this.collection = 'users';
        this.mongoDB = new MongoLib();
        this.emailService = new EmailService();
    }

    async getUser({ email }) {
        try {
            const [user] = await this.mongoDB.getAll(this.collection, { email });
            return user;
        } catch (error) {
            throw new Error(error);
        }
    }

    async getUserById(id) {
        try {
            const user = await this.mongoDB.get(this.collection, id);
            return user;
        } catch (error) {
            throw new Error(error);
        }
    }

    async createUser({ user }) {
        const {
            name,
            email,
            password,
            birthdate,
            lastName,
            country,
        } = user;

        try {
            await this.emailService.sendRegistrationEmail(email);

            const hashedPassword = await bcrypt.hash(password, 10);

            const createdUserId = await this.mongoDB.create(this.collection, {
                name,
                lastName,
                email,
                country,
                password: hashedPassword,
                birthdate,
                confirmed: false,
                lists: [{
                    name: 'Favoritas',
                    description: '',
                    image: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDIwMDEwOTA0Ly9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4wIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiB3aWR0aD0iMTI4MC4wMDAwMDBwdCIgaGVpZ2h0PSIxMjgwLjAwMDAwMHB0IiB2aWV3Qm94PSIwIDAgMTI4MC4wMDAwMDAgMTI4MC4wMDAwMDAiCiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4KPG1ldGFkYXRhPgpDcmVhdGVkIGJ5IHBvdHJhY2UgMS4xNSwgd3JpdHRlbiBieSBQZXRlciBTZWxpbmdlciAyMDAxLTIwMTcKPC9tZXRhZGF0YT4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsMTI4MC4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiCmZpbGw9IiNmZmMxMDciIHN0cm9rZT0ibm9uZSI+CjxwYXRoIGQ9Ik0zNTM1IDEyNjI0IGMtOTQxIC05NiAtMTcxMiAtNTU5IC0yMTc2IC0xMzA2IC0yOTUgLTQ3NiAtNDY5IC0xMDUxCi01MTkgLTE3MTggLTEzIC0xNzQgLTEzIC02MDUgMCAtNzg1IDYyIC04NTggMjg5IC0xNzI0IDY5MyAtMjY0NSAxMTAgLTI1MQozNjcgLTc2MyA0NzMgLTk0MCAyNTQgLTQyNyA1ODYgLTg3MSA5OTcgLTEzMzUgMjc3IC0zMTMgODI1IC04NTQgMTIxNyAtMTIwMQo2NTQgLTU3OSAxNDUwIC0xMTkwIDIyNjIgLTE3MzggbDI3NyAtMTg2IDI5NSAxOTkgYzE3MzMgMTE3MyAzMTM2IDI0MzAgNDAwNgozNTkxIDM3NCA1MDEgNTkzIDg4MCA5MDcgMTU2OSAzMTggNzAxIDU1NiAxNDk3IDY1NyAyMjAxIDUxIDM1MyA2MCA0ODAgNjAKODg1IDAgMzMxIC0zIDQwNCAtMjIgNTYyIC01NCA0MzkgLTE0MiA3ODYgLTI4OCAxMTI2IC00MDAgOTM1IC0xMTg2IDE1MzkKLTIyMDkgMTY5OSAtMTkwIDMwIC02MzUgMzIgLTgyMCA1IC02NjQgLTEwMCAtMTIxMSAtMzY2IC0xNzI3IC04NDAgLTI3MiAtMjUwCi01NzQgLTY0NCAtNzczIC0xMDA5IC00NCAtODEgLTgyIC0xNDcgLTg1IC0xNDcgLTMgMCAtMzkgNjEgLTgwIDEzNiAtNTI0IDk1NgotMTMyMCAxNjAwIC0yMjM1IDE4MDkgLTIyMiA1MSAtMzUzIDY2IC02MjAgNjkgLTEzNyAyIC0yNjggMSAtMjkwIC0xeiIvPgo8L2c+Cjwvc3ZnPgo=',
                    items: [],
                }],
                profilePic: 'data:image/png;base64,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',
            });

            return createdUserId;
        } catch (error) {
            if (error.isBoom) {
                throw error;
            }
            throw new Error(error);
        }
    }

    async updateUser({ id, ...data }) {
        const updatedUserId = await this.mongoDB.update(this.collection, id, data);
        return updatedUserId || {};
    }

    async confirmRegisteredUser(token) {
        try {
            const { email } = jwt.verify(token, emailSecret);
            const user = await this.getUser({ email });
            if (!user.isConfirmed) {
                const { _id: id } = user;
                await this.updateUser({ id, confirmed: true });
            }
            return `${clientUrl}/inicia-sesion`;
        } catch (error) {
            throw new Error(error);
        }
    }
}

module.exports = UserService;
